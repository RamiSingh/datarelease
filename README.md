# letsbash
PRICE FILE UPDATE

These are the data that OnePad needs to generate a quote. These files are generated by the Data teams in the UK and pushed to the TC servers via FTP to the folder: /u01/masterdata/<COUNTRY>/master/00xx/

In order to activate the latest price files:

go to  /u01/masterdata/<COUNTRY>/master/  on the TC server

ls -ltr to check the latest folder that has been uploaded (the format is 00xx)

cat the lastversion.dat file to see what the number is (this should be [00xx-1])

go to [ 00xx-1 ]

cp -p P8000.*  ../00xx

cp -p P8005enAU.dat ../00xx/    (this would be P8006ENNZ.dat in case of NZ)

Now the lastversion.dat file needs to be updated with the latest folder number.

use a text editor to update the number

 
DATA RELEASE TASKS (INT1):

NOTE: Make sure that the time stamps are retaines and the user:group should be tcserver:tcserver. It is a good idea to su - tcserver before starting the copy operations.

 

1) Qapter

 

-- The files are uploaded via the FTP to the int servers by the data teams

 

-- The location of the uploads is: /u01/masterdata/au/Qapter/000x

 

-- List the folders by the date and note the folders

 

-- The latest folder needs to be copied to : /u01/masterdata/au/webpaddata/

-- Keep in mind that the latest folder in this location can be different from what is uploaded in /u01/masterdata/au/Qapter.

 

-- Let's assume for the sake of this exercise that the uploaded folder is '000x' and the latest folder that exists in /u01/masterdata/au/webpaddata is '000y'

 

-- We need to copy the data from '000x' to '000y+1/data/'

 

-- Once this is done, the "tips" folder needs to be copied from '000y' to '000y+1/data/' [Note: the tips folder would be found in the folder that is listed in the lastversion.dat file]

 

 

-- Next step would be to update the lastversion.dat with '000y+1'

 

 

2) OnePad 

 

-- The data is uploaded to /u01/masterdata/au/apwebdata/

-- The new folder needs to have a copy of the "tips" folder from the previous folder (that was given in lastversion.dat)

-- update the lastversion.dat file with the latest folder and it is done

 

   AudaMobile

-- All we need to do is to update the lastversion.dat file with the latest folder and it is done

 

3) update the lastversion.dat in /u01/masterdata/<au/nz>/searchtree folder

 

4) Copy the recently uploaded 00xx foder from /u01/masterdata/<au/nz>/searchtree to /u01/axn/config/<au/nz>/searchtree and update the lastversion file

 

 

 

QAPTER FILES ON NON-INT MACHINES ARE PUT INTO 'WEBPADDATA' FOLDER IN /U01/MASTERDATA/AU/

FOR EXAMPLE ON PROD2 THE LOCATION FOR QAPTER FILES IS /U01/MASTERDATA/AU/WEBPADDATA

 

Just copy the data from int1 and create a new folder on prod2/cae etc

 

IMPORTANT: the directory structure and name on INT1 has to be retained on all the environments. So if it is 0013 on INT1 then it has to be copied as it is on CAE, P2AU, and PROD.

 

Also, usually the directory structure in 00XX is 00xx/data/. This is important to retain.

 

 

SEARCHTREE files need to be the same in bothe masterdata and config folders for both AU and NZ. Without this the new models will not be displayed in the dropdown menu.
